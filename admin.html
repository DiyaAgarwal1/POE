<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POE</title>
    <!-- font awesome cdn link  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">


     <!-- custom css file link  -->
    <link rel="stylesheet" href="/css/adminonlylogin.css">
</head>
<body>
  <div class="header">
    <img src="images/st-joseph-s-degree-and-pg-college-squarelogo-1527688752849.png"  alt="Michigan State Logo"/>
    <h1>St.Josephâ€™s Degree and PG College</h1>
  </div>
<div class="account-page">
<div class="form-box">
    <div class="button-box">
        <div id="bts"></div>
        <button type="button"  class="toggle-btn" onclick="login()">Log In</button>
        <button type="button" class="toggle-btn" onclick="register()">Register</button>
    </div>
    <form id="login" class="input-group">
        <input type="text" class="input-field" id="email" placeholder="EMAIL ID" required>
        <input type="text" class="input-field" id="password" placeholder="Enter password" required>
        <input type="checkbox" class="check-box"> <span> Remember password </span>
        <button type="submit" class="submit-btn" id="signIn" > Login</button>
    </form> 
    <form id="register" class="input-group">
        <input type="text" class="input-field" id="username" placeholder="User ID" required>
        <input type="email" class="input-field" id="email1" placeholder="Email id" required>
        <input type="text" class="input-field" id="password1" placeholder="Enter password" required>
        <input type="checkbox" class="check-box"> <span> I agree to the terms and conditions </span>
        <button type="submit" class="submit-btn" id="signUp" > Register</button>
    </form>
</div>
</div>
    
<script>
    var x = document.getElementById("login");
    var y = document.getElementById("register");
    var z = document.getElementById("bts");

function register () {
    x.style.left = "-400px";
    y.style.left = "50px";
    z.style.left = "110px";
}

function login () {
    x.style.left = "50px";
    y.style.left = "450px";
    z.style.left = "0";
}

</script>










<script type="module">
    // Import the functions you need from the SDKs you need
    
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-app.js";
    import { getDatabase,set,ref } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-database.js";
           
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-analytics.js";
      import { getAuth, signInWithEmailAndPassword,signOut,createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-auth.js";
       
    //changes
    const firebaseConfig = {
      apiKey: "AIzaSyBtBQeWTyBQ29OHZreinCdxApv9RTL_g6A",
    authDomain: "poesite-61ebe.firebaseapp.com",
    databaseURL: "https://poesite-61ebe-default-rtdb.firebaseio.com",
    projectId: "poesite-61ebe",
    storageBucket: "poesite-61ebe.appspot.com",
    messagingSenderId: "430090178486",
    appId: "1:430090178486:web:25a9983b40ac49c6187b17",
    measurementId: "G-BBCPEZ6FCD"
  };
      
          
// Initialize Firebase

const app =initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
const database=getDatabase(app);
const auth = getAuth();


signIn.addEventListener('click',(e)=>{
e.preventDefault();
var email=document.getElementById('email').value;
var password=document.getElementById('password').value;


signInWithEmailAndPassword(auth, email, password).catch((error) => {
const errorCode = error.code;
const errorMessage = error.message;
alert(errorMessage)
}).then((userCredential) => {
// Signed in 

const user = userCredential.user;
if (user){
alert('welcome you are logged in as admin')


}
window.location.href="retrieve.html"

});

})

signUp.addEventListener('click',(e)=>{
    e.preventDefault();
  var email=document.getElementById('email1').value;
  var password=document.getElementById('password1').value;
  var username=document.getElementById('username').value;
  createUserWithEmailAndPassword(auth, email, password)
  .then((userCredential) => {
  // Signed in 
  const user = userCredential.user;

set(ref(database,'Admin/'+user.uid),{
    username:username,
    email:email
  });
  
  alert("Admin user ID created")
  
})
.catch((error) => {
  const errorCode = error.code;
  const errorMessage = error.message;
  alert(errorMessage)
  // ..
});

 
  // ...

})

 </script>
 
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  
  








































<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login</title>
    <link rel="stylesheet" href="css/login.css">
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-database-compat.js"></script>

</head>
<body>
    <div class="login-box">
        <h2>Admin Login</h2>
        <form id="login-form">
          <div class="user-box">
            
            <input type="text" name="email" required id="email">
            <label for="email">Email</label>
          </div>
          <div class="user-box">
            
            <input type="password" name="password" required id="password">
            <label for="password">Password</label>
          </div>
          <a href="#" class="signIn">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            Submit
          </a>
        </form>
       
      </div>
      <script>
        // Initialize Firebase
        var firebaseConfig = {
          // Your Firebase config object here
        apiKey: "AIzaSyAVOpWwCMeG-zH1a7wtXVOuNteiscCR270",
        authDomain: "poesite-8f45c.firebaseapp.com",
        databaseURL: "https://poesite-8f45c-default-rtdb.firebaseio.com",
        projectId: "poesite-8f45c",
        storageBucket: "poesite-8f45c.appspot.com",
        messagingSenderId: "795519853653",
        appId: "1:795519853653:web:7029de65024eb31d3320dc",
        measurementId: "G-R6N35JPPM3"
        };
        firebase.initializeApp(firebaseConfig);
        
        // Get a reference to the database
        var database = firebase.database();
        
        // Get the form and submit button elements
        var form = document.getElementById("login-form");
        var submitButton = document.querySelector("#login-form a.signIn");
        
        // Attach an event listener to the submit button
        submitButton.addEventListener("click", function(event) {
          event.preventDefault(); // Prevent the form from submitting normally
          
          // Get the email and password fields from the form
          var email = document.getElementById("email").value;
          var password = document.getElementById("password").value;
        
          // Send the login data to the database
          var facultyRef = database.ref("Admin"); // create a reference to the "faculty" node
          facultyRef.push({
            email: email,
            password: password
          }).then(function() {
            // Data is successfully written to the database
            alert("Admin Logged In");
            window.location.href = "index.html"; // Redirect to index.html
          }).catch(function(error) {
            // Handle any errors that occur while writing data to the database
            console.error(error);
          });
        });
        </script>
        
</body>
</html> -->